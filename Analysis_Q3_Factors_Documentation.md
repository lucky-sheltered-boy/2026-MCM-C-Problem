# 问题三：评委评分与粉丝投票的影响因素对比分析
# (Problem 3: Comparative Analysis of Factors Influencing Judges vs. Fans)

## 1. 建模背景与问题重述

### 1.1 核心问题
在《Dancing with the Stars》中，经常出现“评委高分但粉丝不买账”或“评委低分但粉丝狂热支持”的现象。
**目标**：定量分析哪些因素驱动了评委的评分？哪些因素驱动了粉丝的投票？二者是否存在显著的机制差异？

### 1.2 分析框架
由于我们通过 Problem 1 获得了粉丝投票的估计值，我们现在拥有了两个平行的目标变量：
1.  **评委评分 (Judge Scores)**：直接观测数据，代表专业视角。
2.  **粉丝投票 (Fan Votes)**：模型估计数据，代表大众视角。

我们将使用 **可解释性机器学习模型 (Ridge Regression)** 来分别拟合这两个目标，并通过对比回归系数来揭示潜在的影响因子。

---

## 2. 模型建立细节 (Model Construction)

### 2.1 数据来源与处理
*   **输入数据**：`engineered_data.csv` (包含选手元数据、评委分) + `mcmc_smooth_results.csv` (包含粉丝投票均值)。
*   **样本构建**：以“选手-赛季”为单位，计算每位选手在整个赛季的平均评委分 ($Y_{Judge}$) 和模型估计的平均粉丝得票率 ($Y_{Fan}$)。

### 2.2 特征工程 (Feature Engineering)
我们要通过显性特征来解释评分/投票。所选特征包括：

1.  **个人特征**：
    *   `celebrity_age_during_season`: 参赛时年龄。
    *   `celebrity_industry`: 所属行业（One-Hot 编码），如演员、运动员、歌手等。
    
2.  **外部环境特征**：
    *   `season`: 赛季编号（捕捉时间趋势）。

3.  **地区因素 (Geographic Factors) [NEW]**:
    *   `is_usa`: 是否为美国本土选手。
    *   `us_region`: 美国选手的来源地（West, South, Midwest, Northeast）。
    *   `is_california`: 是否来自加州（测试“好莱坞精英”效应）。

4.  **职业舞伴特征 (Professional Partner Effect)**：
    *   **核心假设**：优秀的职业舞伴可能自带“光环”或高超的编舞技巧，能提升明星的表现。
    *   **技术难点**：直接使用舞伴历史平均分会导致“数据泄露” (Data Leakage)，因为历史平均分包含了当前选手的得分。
    *   **解决方案：留一法 (Leave-One-Out, LOO)**
        *   对于选手 $i$ 和舞伴 $p$，计算舞伴 $p$ **除选手 $i$ 以外** 所有搭档的平均分。
        *   特征变量：`partner_hist_score_mean_loo`, `partner_hist_placement_loo`。

### 2.3 模型选择：Ridge 回归
采用 **Ridge Regression (岭回归)** 而非普通线性回归 (OLS)，原因如下：
*   **多重共线性处理**：行业虚拟变量之间可能存在相关性，L2 正则化能稳定系数估计。
*   **特征解释性**：我们关注的是系数的大小（即影响权重），而非单纯的预测精度。

---

## 3. 模型求解具体方法 (Solving Methodology)

### 3.1 预处理流程
1.  **标准化 (Standardization)**：对所有数值型特征（年龄、Partner分数、地区Flag等）进行 $Z$-score 标准化，确保回归系数具有可比性。
2.  **独热编码 (One-Hot Encoding)**：将 `celebrity_industry` 和 `us_region` (West, South, etc.) 转换为虚拟变量向量。

### 3.2 训练与验证
代码建立了两个独立的回归模型：
*   **Model A (Judge Model)**: $Y_{Judge} \sim X \cdot \beta_J$
*   **Model B (Fan Model)**: $Y_{Fan} \sim X \cdot \beta_F$

使用 **5折交叉验证 (5-Fold Cross-Validation)** 来评估模型的解释能力 ($R^2$ Score)。

---

## 4. 求解结果与分析 (Results & Interpretation)

### 4.1 "可预测性" 差异 (Predictability Gap)
运行代码后，最显著的发现是两个模型 $R^2$ 的巨大差异（典型值）：
*   **对评委评分 (Judge Model)**: $R^2 \approx 0.35 - 0.50$。说明评委的打分很大程度上是基于“客观条件”（如舞伴水平、年龄带来的身体机能差异）。
*   **对粉丝投票 (Fan Model)**: $R^2 \approx 0.00 - 0.10$。说明粉丝投票**极难被客观标签预测**。粉丝的支持更多源于难以量化的“个人魅力”、“性格讨喜度”或“当周叙事线”。

### 4.2 关键因子影响对比 (Factor Analysis)

| 影响因子 | 对评委影响 ($|\beta_J|$) | 对粉丝影响 ($|\beta_F|$) | 结论解释 |
| :--- | :--- | :--- | :--- |
| **年龄 (Age)** | **显著负相关** (-0.626) | **无显著影响** (-0.005) | 评委看重身体机能和动作爆发力，这对年长者不利；但粉丝并不歧视高龄选手。 |
| **舞伴历史 (Partner)** | **显著正相关** (+0.273) | **微弱/无影响** (-0.009) | “好马配好鞍”，金牌舞伴能显著提升明星的评委分（编舞加成）；但粉丝主要是冲着明星本人去的。 |
| **加州效应 (California)** | **显著负相关** (-0.159) | **微弱负相关** (-0.013) | 处于娱乐工业中心（LA/Hollywood）的选手反而受到评委更严格的审视；粉丝也不特别买账“好莱坞精英”光环。 |
| **地缘效应 (Region)** | 弱相关 (West +0.03) | 极弱 (均 < 0.005) | 并没有出现类似 Eurovision 的“地缘政治投票”现象。南方/中西部选手并没有显著的“铁票仓”优势。 |
| **行业 (Industry)** | 部分显著 (Actor +0.17) | 极弱 (Model -0.01) | 评委偏好有表演经验的演员；粉丝投票分布均匀，没有明显的职业偏见。 |

---

## 5. 论文撰写参考结论 (Conclusion for Paper)

### 5.1 评委的"技术理性" vs 粉丝的"情感感性"
*   **评委评分 (Technical Rationality)**：表现出明显的“精英主义”倾向。他们看重**体能基础**（年龄负相关）和**技术执行**（受优秀舞伴加成明显）。同时，数据显示他们对来自加州的“圈内人”标准更严苛（California Effect 为负）。
*   **粉丝投票 (Emotional Affectivity)**：表现出高度的“随机性”和“去中心化”。粉丝不在乎年龄或职业背景，甚至**不在乎选手的来源地**（无地缘偏好）。支持理由高度个性化（可能是因为一段感人的采访，或仅仅是因为喜欢选手的笑容）。

### 5.2 制作人建议 (Implication)
*   如果节目组希望比赛结果更具**专业性**，应增加评委权重的比例，因为评委更能筛选出硬实力强的选手。
*   如果节目组希望增加**戏剧性**和**观众粘性**，目前的“50/50”赛制非常完美：它允许评委筛选出技术流，同时候也给粉丝留出了“用爱发电”捧红非专业选手的空间（如 Bobby Bones 现象）。
*   **赛制改革建议**：无需改变 50/50 权重，但应保留“评委拯救机制”作为对粉丝极端非理性投票的最后一道保险。

---

*注：本分析基于 `analysis_q3_factors.py` 的代码逻辑与预期输出。实际论文中的具体 $R^2$ 数值和 TOP 行业列表需依据运行代码后的控制台输出进行填充。*
